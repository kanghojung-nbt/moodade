{% extends "base.html" %}

{% load staticfiles %}
{% block extrastyle %}{% static 'css/heartshape.css' %}{% endblock %}
{% block extra_head %}
    <style type="text/css">
        .st0 {
            fill: url(#MyGradient);
            stroke: none;
            stroke-width: 0.5;
            stroke-miterlimit: 10;
        }

        .st1 {
            fill: #FFFFFF;
        }
    </style>
{% endblock %}
{% block prescript %}


    function idCheckSubmit() {
    document.idCheckForm.submit();
    }
    function calendarSubmit() {

     document.CalendarSaveForm.submit();
    }
{% endblock %}
{% block extrascript %}

    var IDlist=new Array();  //color data모음집.

    {% for verb in myverb %}
        IDlist.push({{ verb.id }});
    {% endfor %}



    var category ="{{ category }}";
    var colordata=[];
    var colorMap={"red":360, "orange":30, "yellow":60 , "green":180, "skyblue":210, "blue":240 ,"purple":300,
    "magenta":330};



    var firstpercent ,lastpercent;
    {% for verb in myverb %}
        colordata.push("{{ verb.mood_Amount }}");
    {% endfor %}
    var first,last;
    first= colordata[0];
    last = colordata[colordata.length-1];
    firstpercent= parseInt(10 * first);
    lastpercent = parseInt(10* last);


    {#stop-color="white"#}
    //hsla(120, 100%, 50%, 0.3);

    console.log(last);

    var firstcolor= "hsla("+(colorMap["{{ category }}"]-parseInt(first))+",88%, "+firstpercent+"%"+", 0.9)";
    console.log(firstcolor);
    var lastcolor = "hsla("+( parseInt(colorMap["{{ category }}"])+parseInt(last))+",98%, "+lastpercent+"%"+", 1)";
    console.log(lastcolor);
    $("#colorstart").attr("stop-color",firstcolor);
    $("#colorlast").attr("stop-color",lastcolor);
    $("#idlist").val(IDlist);
    $("#idlist2").val(IDlist);
    $("#verbmin").val(first);
    $("#verbmax").val(last);
    $("#verbmin2").val(first);
    $("#verbmax2").val(last);
    $("#category1").val(category);
    $("#category2").val(category);


{% endblock %}
{% block content %}

    <div class="moodade-title" style="text-align: center"> 당신의 무드에이드는?</div>
    <div class="moodade-subtitle" style="text-align: center"> 오늘 당신의 기분은 어떤 색인가요?</div>
    <div class="conainter-fluid" style="margin-top: 5%">
    <div class="row">
    <div class="col-xs-6" style="text-align: center">
        <div class=today-mood" style="align-content:center"><img class=""
                                                                 src="{% static 'img/menu/today_moodade.png' %}">
        </div>
        <div class='block center-block' style="margin-top: 40px">
            <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 20.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg  version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
	 y="0px" viewBox="0 0 224 222" style="enable-background:new 0 0 224 222;" width="250px" xml:space="preserve">
<style type="text/css">
	.st0{fill:none;}
	.st1{fill:url(#MyGradient);}
	.st2{fill:#353535;}
</style>
<g>
	<path class="st0" d="M167.8,87.3c5.8,0,10.5-4.7,10.5-10.5c0-5.8-4.7-10.5-10.5-10.5s-10.5,4.7-10.5,10.5
		C157.4,82.6,162.1,87.3,167.8,87.3z"/>
	<circle class="st0" cx="144.9" cy="52.3" r="3.7"/>


	<linearGradient id="MyGradient" gradientUnits="userSpaceOnUse" x1="112.0792" y1="105.5864" x2="112.0792" y2="188.5397">
		<stop  offset="10%"  id="colorstart" stop-color="white"/>
		<stop  offset="90%"  id="colorlast"  stop-color="white"/>
	</linearGradient>
	<polygon class="st1" points="112,183.3 185.5,109.3 38.6,109.3 	"/>
	<path class="st2" d="M194.4,101.9H72.9V55.6c0-1.8-1.5-3.3-3.3-3.3H42.5c-1.8,0-3.3,1.5-3.3,3.3c0,1.8,1.5,3.3,3.3,3.3h23.8v43
		H29.8c-1.5,0-2.8,0.9-3.4,2.3c-0.6,1.4-0.3,3,0.8,4l81.4,82.1c-0.1,0.3-0.2,0.7-0.2,1v22.6H63.9c-2,0-3.7,1.6-3.7,3.7
		s1.6,3.7,3.7,3.7h96.2c2,0,3.7-1.6,3.7-3.7s-1.6-3.7-3.7-3.7h-44.3v-22.6c0-0.4-0.1-0.8-0.2-1.1l81.4-82c1-1.1,1.4-2.6,0.8-4
		C197.2,102.8,195.9,101.9,194.4,101.9z M112,183.3l-73.4-74h146.9L112,183.3z"/>
	<path class="st2" d="M207.1,17.1c-9.8-10.2-23.4-16-38.2-16.3c-14.1-0.3-28.2,4.2-39.6,12.8c-3.9,3-7.8,6.4-12.1,10.7
		c-2.7,2.7-3.9,3.1-4.5,3c-0.4-0.1-0.9-0.1-1.3,0c-0.6,0.1-1.9-0.3-4.5-3c-4.3-4.3-8.1-7.7-12.1-10.7C83.3,5,69.3,0.5,55.1,0.8
		C40.3,1.1,26.7,6.9,16.9,17.1C5.9,28.6-0.4,45,0,61.1c0,0,0,0,0,0.1c0,0.9,1.2,22.5,18,38.2c1.5,1.4,3.8,1.3,5.2-0.2
		c1.4-1.5,1.3-3.8-0.2-5.2C8.8,80.6,7.4,61.6,7.4,60.8C7,46.7,12.5,32.2,22.2,22.2C41.1,2.6,71.6,5.4,90.3,19.4
		c3.7,2.7,7.2,5.9,11.3,10c1.7,1.7,5.6,5.6,10.4,5.1c4.8,0.5,8.7-3.4,10.4-5.1c4.1-4.1,7.6-7.2,11.3-10c18.7-14,49.2-16.8,68.1,2.8
		c9.6,10,15.2,24.4,14.8,38.5c-0.1,1.6-2.5,24.4-15.1,32.9c-1.7,1.1-2.1,3.4-1,5.1c0.7,1,1.9,1.6,3,1.6c0.7,0,1.4-0.2,2.1-0.6
		C221.6,89,223.9,62.4,224,61.3c0-0.1,0-0.1,0-0.2C224.4,45,218.1,28.6,207.1,17.1z"/>
	<path class="st2" d="M167.8,94c9.5,0,17.2-7.7,17.2-17.2s-7.7-17.2-17.2-17.2s-17.2,7.7-17.2,17.2S158.4,94,167.8,94z M167.8,66.4
		c5.8,0,10.5,4.7,10.5,10.5c0,5.8-4.7,10.5-10.5,10.5s-10.5-4.7-10.5-10.5C157.4,71.1,162.1,66.4,167.8,66.4z"/>
	<path class="st2" d="M144.9,43.3c-5,0-9.1,4.1-9.1,9.1c0,5,4.1,9.1,9.1,9.1s9.1-4.1,9.1-9.1C154,47.3,149.9,43.3,144.9,43.3z
		 M144.9,56.1c-2.1,0-3.7-1.7-3.7-3.7c0-2.1,1.7-3.7,3.7-3.7c2.1,0,3.7,1.7,3.7,3.7C148.7,54.4,147,56.1,144.9,56.1z"/>
</g>
</svg>

            <div id="category" value="{{ myverb }}" style="margin-top: 40px"></div>
            <div class="moodade-verb-list mood-text">
                <div class="mood-recipe">무드에이드 레시피</div>
                <hr class="large" color="red">
                {% for verb in myverb %}
                    {{ verb.mood_Verb }}  &nbsp;&nbsp;
                {% endfor %}
            </div>

        </div>

    </div>
    <div class="col-xs-6" title="오른쪽">
        <div class="your-mood">{{ emoticon }}한 당신</div>
        <div class="anothers-mood">현재 OO 명의 사람들이 당신과<Br>
            같은 기분을 느끼고 있어요.<br><br>
            감정을 어루만져 줄 문구와 함께<br>
            나만의 색이 담긴 배경화면을 만들어 보세요!
        </div>

        <div style="padding-left: 60px; padding-top:20px;">
            <form name="idCheckForm"  method="post" action="/mood/mood_down/">
                {% csrf_token %}
                <input type="text" name="idlist" id="idlist" hidden/>
                <input type="number" name="verbmax" id="verbmax" hidden>
                <input type="number" name="verbmin" id="verbmin" hidden>
                <input type="text" name="category" id="category1" hidden>
                <input type="submit" onclick="idCheckSubmit()"value="배경화면 만들러 가기" class="ct-btn">
            </form>
        </div>
        <div style="padding-left: 60px; padding-top:10px; margin-bottom:20px">
            <form name="CalendarSaveForm" method="post" action="/moodcalendar/">
                {% csrf_token %}
                <input type="text" name="idlist" id="idlist2" hidden/>
                <input type="number" name="verbmax" id="verbmax2" hidden>
                <input type="number" name="verbmin" id="verbmin2" hidden>
                <input type="text" name="category" id="category2" hidden>
                <input type="submit" onclick="calendarSubmit()"value="캘린더에 결과 저장하기" class="clandr-btn">
            </form>
        </div>
    </div>
{% endblock %}




