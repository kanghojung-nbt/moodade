{% extends "base.html" %}

{% load staticfiles %}
{% block extrastyle %}{% static 'css/heartshape.css' %}{% endblock %}
{% block extra_head %}
    <style type="text/css">
        .st0 {
            fill: url(#MyGradient);
            stroke: none;
            stroke-width: 0.5;
            stroke-miterlimit: 10;
        }

        .st1 {
            fill: #FFFFFF;
        }
    </style>
{% endblock %}
{% block prescript %}


    function idCheckSubmit() {
    document.idCheckForm.submit();
    }
{% endblock %}
{% block extrascript %}

    var IDlist=new Array();  //color data모음집.

    {% for verb in myverb %}
        IDlist.push({{ verb.id }});
    {% endfor %}



    var category ="{{ category }}";
    var colordata=[];
    var colorMap={"red":360, "orange":30, "yellow":60 , "green":180, "skyblue":210, "blue":240 ,"purple":300,
    "magenta":330};



    var firstpercent ,lastpercent;
    {% for verb in myverb %}
        colordata.push("{{ verb.mood_Amount }}");
    {% endfor %}
    var first,last;
    first= colordata[0];
    last = colordata[colordata.length-1];
    firstpercent= parseInt(10 * first);
    lastpercent = parseInt(10* last);


    {#stop-color="white"#}
    //hsla(120, 100%, 50%, 0.3);

    console.log(last);

    var firstcolor= "hsla("+(colorMap["{{ category }}"]-parseInt(first))+",88%, "+firstpercent+"%"+", 0.9)";
    console.log(firstcolor);
    var lastcolor = "hsla("+( parseInt(colorMap["{{ category }}"])+parseInt(last))+",98%, "+lastpercent+"%"+", 1)";
    console.log(lastcolor);
    $("#colorstart").attr("stop-color",firstcolor);
    $("#colorlast").attr("stop-color",lastcolor);
    $("#idlist").val(IDlist);
    $("#verbmin").val(first);
    $("#verbmax").val(last);
    $("#category").val(category);


{% endblock %}
{% block content %}

    <div class="moodade-title" style="text-align: center"> 당신의 무드에이드는?</div>
    <div class="moodade-subtitle" style="text-align: center"> 현재 당신의 기분은 다음과 같습니다.</div>
    <div class="conainter-fluid" style="margin-top: 10%">
        <div class="row">
            <div class="col-xs-6" style="text-align: center">
                <div class=today-mood" style="align-content:center">오늘의 무드에이드</div>
                <div class='block center-block'>
                    <svg wedth="300px" height="300px"  version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
	 y="0px" viewBox="0 0 198.3 198.3" style="enable-background:new 0 0 198.3 198.3;" xml:space="preserve">

      <linearGradient id="MyGradient"  x1="0%" x2="0%" y1="0%" y2="100%" >
      <stop offset="10%" id="colorstart" stop-color="red" />
      <stop offset="90%" id="colorlast"  stop-color="pink" />
      </linearGradient>



<circle class="st0" cx="99.2" cy="99.2" r="60.9" stroke="red" stroke-width="3"  id="backcircle"/>
<g>
	<path class="st1" d="M132.3,74.2c-1.7-0.1-3.3,0.5-4.6,1.7c-2.6,2.4-2.8,6.4-0.4,9c1.2,1.3,2.7,2,4.4,2.1c0.1,0,0.2,0,0.3,0
		c1.6,0,3.1-0.6,4.3-1.7c1.3-1.2,2-2.7,2.1-4.4c0.1-1.7-0.5-3.3-1.7-4.6C135.6,75,134,74.3,132.3,74.2z M134.3,83.1
		c-0.7,0.6-1.5,0.9-2.4,0.9c-0.9,0-1.7-0.4-2.3-1.1c-1.2-1.4-1.1-3.5,0.2-4.7c0.6-0.6,1.4-0.9,2.2-0.9c0.9,0,1.8,0.4,2.5,1.1
		c0.6,0.7,0.9,1.5,0.9,2.4C135.3,81.6,134.9,82.5,134.3,83.1z"/>
	<path class="st1" d="M123.5,87.5c-1.1,0-2.2,0.3-3,1.1c-0.8,0.8-1.3,1.8-1.4,2.9c0,1.1,0.3,2.2,1.1,3c0.8,0.8,1.8,1.3,2.9,1.4
		c0.1,0,0.1,0,0.2,0c1.1,0,2.1-0.4,2.9-1.1c0.8-0.8,1.3-1.8,1.4-2.9s-0.3-2.2-1.1-3C125.6,88,124.6,87.5,123.5,87.5z M124.8,91.8
		c0,0.4-0.2,0.8-0.5,1.1c-0.3,0.3-0.7,0.4-1.1,0.4c-0.4,0-0.8-0.2-1.1-0.5c-0.3-0.3-0.4-0.7-0.4-1.1c0-0.4,0.2-0.8,0.5-1.1
		c0.3-0.3,0.7-0.4,1.1-0.4c0,0,0,0,0.1,0c0.4,0,0.8,0.2,1.1,0.5C124.7,91,124.9,91.4,124.8,91.8L124.8,91.8z"/>
	<path class="st1" d="M155.2,87.7c-1.1-17.3-13.4-29.8-29.3-29.8c-12.4,0-22.3,8-26.8,20.8c-4.5-12.9-14.4-20.8-26.8-20.8
		c-1.3,0-2.6,0.1-3.9,0.3l-3.2-12.7C65,44.4,64,43.8,63,44l-13.5,3.1c-1,0.2-1.7,1.3-1.4,2.3c0.2,1,1.3,1.7,2.3,1.4l11.7-2.7
		l2.7,10.8c-12,3.3-20.7,14.4-21.6,28.8c-0.5,7.4,1.3,14.3,4,20.4c0.5,1.2,1.1,2.3,1.7,3.5c2.4,4.5,5.3,8.5,8,11.8
		c9.6,11.6,23.2,21.7,41.6,30.8c0.3,0.1,0.6,0.2,0.9,0.2c0.3,0,0.6-0.1,0.9-0.2c18.4-9.2,31.9-19.3,41.6-30.8
		c2.7-3.2,5.5-7.2,8-11.8c0.6-1.1,1.2-2.3,1.7-3.5C153.9,102,155.7,95.1,155.2,87.7z M79.3,125.6c0-0.9,0.4-1.8,1.1-2.4
		c0.7-0.6,1.5-0.9,2.4-0.9c0.1,0,0.1,0,0.2,0c0.9,0,1.8,0.4,2.4,1.1l0,0c0.6,0.7,1,1.6,0.9,2.5c0,0.9-0.4,1.8-1.1,2.4
		c-0.7,0.6-1.6,1-2.5,0.9c-0.9,0-1.8-0.4-2.4-1.1C79.6,127.4,79.2,126.5,79.3,125.6z M146,110.2c0.1-0.1,0.1-0.3,0.2-0.4
		c0,0,0,0,0,0C146.1,109.9,146,110,146,110.2z M147.9,106.3c-0.4-0.3-0.9-0.7-1.3-1.1c-2.4-2-5.1-4.2-10.5-4.2s-8,2.3-10.4,4.2
		c-2.2,1.8-4.1,3.4-8,3.4c-3.9,0-5.8-1.6-8-3.4c-2.4-2-5.1-4.2-10.4-4.2c-5.3,0-8,2.3-10.4,4.2c-2.2,1.8-4.1,3.4-8,3.4
		c-3.9,0-5.8-1.6-8-3.4c-2.4-2-5.1-4.2-10.4-4.2s-8,2.3-10.4,4.2c-0.4,0.4-0.9,0.7-1.3,1c-2.4-5.5-4-11.7-3.6-18.3
		c0.7-11.1,7.3-22.2,18.7-25.4l4.6,18.5c0.2,0.9,1,1.4,1.8,1.4c0.2,0,0.3,0,0.5-0.1c1-0.3,1.6-1.3,1.4-2.3l-4.6-18.3
		c1-0.1,2-0.2,3-0.2c12.7,0,22.5,9.9,24.9,25.2c0.1,0.9,0.9,1.6,1.9,1.6c0.9,0,1.7-0.7,1.9-1.6c2.4-15.3,12.2-25.2,24.9-25.2
		c15.6,0,24.6,13.2,25.5,26.3C151.9,94.6,150.3,100.8,147.9,106.3z"/>
</g>
</svg>

                </div>

            </div>
            <div class="col-xs-6" data-placement="right" title="오른쪽">
                문구 나타내고
            </div>


            <div>
                <form name="idCheckForm" method="post" action="/mood/mood_down/">
                    {% csrf_token %}
                    <input type="text" name="idlist" id="idlist" hidden/>
                    <input type="number" name="verbmax" id="verbmax" hidden>
                    <input type="number" name="verbmin" id="verbmin" hidden>
                    <input type="text" name="category" id="category" hidden>
                    <a href="javascript:idCheckSubmit()">배경화면 다운받기</a>
                </form>
                 <form name="CalendarSaveForm" method="post" action="/mood/mood_down/">
                    {% csrf_token %}
                    <input type="text" name="idlist" id="idlist" hidden/>
                    <input type="number" name="verbmax" id="verbmax" hidden>
                    <input type="number" name="verbmin" id="verbmin" hidden>
                    <input type="text" name="category" id="category" hidden>
                    <a href="javascript:idCheckSubmit()">캘린더에 결과 저장하기</a>
                </form>

            </div>


        </div>
        <div id="category" value="{{ myverb }}"></div>
        <div class="row">

            <div class="col-xs-6 moodade-verb-container" style="align-content:center">무드에이드 레시피
                <div class="moodade-verb-list mood-text">
                    {% for verb in myverb %}
                        {{ verb.mood_Verb }},
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}




